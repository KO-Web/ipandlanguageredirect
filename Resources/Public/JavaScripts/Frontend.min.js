function IpandlanguageredirectFrontend(){"use strict";var e=this,n="ipandlanguageredirect_container",t="fadein",r={r:1},a=!1;this.initialize=function(){_(),x()&&i(c(),f())};var i=function(e,n){if(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);o(e)}},t.open("POST",y(e,n),!0),t.send()}else console.log("No ajax URI given!")},o=function(n){if(n.activated&&Array.isArray(n.events))for(var t in n.events)n.events.hasOwnProperty(t)&&e[n.events[t]+"Event"](n)};this.redirectEvent=function(e){var n=g(e.redirectUri);a?(console.log("Redirect to following URI:"),console.log(n)):window.location=n},this.suggestEvent=function(e){var n=g(e.redirectUri);a?(console.log("Suggest the following URI:"),console.log(n)):(u(e),d())};var u=function(e){var n=s("link");n.setAttribute("href",e.redirectUri)},d=function(){var e=s("suggest");e.classList.add(t)},g=function(e){return y(e,r)},c=function(){var e=l();return null!==e?e.getAttribute("data-ajax-uri"):""},l=function(){return document.getElementById(n)},s=function(e){var n=document.querySelectorAll("[data-ipandlanguageredirect-container]");for(var t in n)if(n.hasOwnProperty(t)&&n[t].getAttribute("data-ipandlanguageredirect-container")===e)return n[t];return null},f=function(){return{"tx_ipandlanguageredirect_pi1[browserLanguage]":v(),"tx_ipandlanguageredirect_pi1[ipAddress]":"","tx_ipandlanguageredirect_pi1[referrer]":p(),"tx_ipandlanguageredirect_pi1[languageuid]":w(),"tx_ipandlanguageredirect_pi1[rootpageuid]":h()}},v=function(){var e=navigator.language||navigator.userLanguage,n=e.split("-");return n[0]},p=function(){return document.referrer},w=function(){var e=l();return null!==e?e.getAttribute("data-language-uid"):0},h=function(){var e=l();return null!==e?e.getAttribute("data-rootpage-uid"):1},x=function(){var e=l();return null!==e&&window.location.href.indexOf("?r=1")===-1&&window.location.href.indexOf("&r=1")===-1},_=function(){window.location.search.indexOf("ipandlanguagedebug=1")!==-1&&(a=!0,console.log("ipandlanguageredirect debug activated"))},y=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e+=e.indexOf("?")!==-1?"&":"?",e+=t+"="+n[t]);return e}}var Ipandlanguageredirect=new window.IpandlanguageredirectFrontend;Ipandlanguageredirect.initialize();